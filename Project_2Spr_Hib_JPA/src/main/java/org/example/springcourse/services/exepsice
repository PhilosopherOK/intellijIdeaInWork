
4) Добавить автоматическую проверку на то, что человек просрочил возврат
книги.
Проверка просрочки книги
/people/id
Если человек взял книгу более 10 дней назад и до сих пор не
вернул ее, эта книга на странице этого человека должна
подсвечиваться красным цветом.
Проверка просрочки книги
/people/id
• При взятии книги человеком, должно сохраняться текущее точное время. Вы
должны изменить таблицу и сущность, чтобы сохранять время. Где создать
новое поле и колонку остается на ваше усмотрение. Подумайте, как лучше.
• Вся логика по определению просрочки не должна лежать в контроллере, или что
еще хуже, в представлении. Вся логика лежит в сервисе, а на представление
отправляется только одно булево значение - просрочена книга (True) или не
просрочена (False).
• Подумайте, где хранить и как отправлять булево значение на представление.
Возможно, здесь придется кстати аннотация @Transient?
• Изучите атрибут th:style в Thymeleaf, который позволяет динамически
изменять стиль на основании условия (понадобится для того, чтобы красить
красным цветом просроченные книги). Можно реализовать и без th:style,
любой способ подойдет.
• Для того, чтобы проверить, что все работает, вручную положите в таблицу
значение времени, которое было раньше, чем 10 дней назад.
• Изучите, как в PostgreSQL класть в таблицу значение в колонку типа timestamp
• Логика определения просрочки остается на ваше усмотрение. Можно
реализовать как угодно. Главное, чтобы работало.
• Не стесняйтесь гуглить :)